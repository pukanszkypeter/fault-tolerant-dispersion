<div class="container">
  <mat-card class="animate__animated animate__fadeInDown visualization-title">{{ 'visualizationComponent_title' | translate }}</mat-card>
  <div class="row mt-4 mb-4">
    <div class="col-12">
      <h4 class="mb-4">{{ 'visualizationComponent_groupByChart' | translate }}</h4>
      <mat-progress-bar mode="query" *ngIf="LOADING"></mat-progress-bar>
      <mat-card>
        <br>
        <div class="row align-items-center">
          <div class="col-10">
            <mat-form-field appearance="outline" class="visualization-select">
              <mat-label>{{ 'settingsDialogComponent_graphType' | translate }}</mat-label>
              <mat-select [formControl]="graphType">
                <mat-option *ngFor="let graphType of graphTypes" [value]="graphType.value">
                  {{ graphType.value | translate }}
                </mat-option>
              </mat-select>
              <mat-error *ngIf="graphType.hasError('required')">{{ 'settingsDialogComponent_graphTypeRequired' | translate }}</mat-error>
            </mat-form-field>
            <mat-form-field appearance="outline" class="visualization-select">
              <mat-label>{{ 'settingsDialogComponent_algorithmType' | translate }}</mat-label>
              <mat-select [formControl]="algorithmType">
                <mat-option *ngFor="let algorithmType of algorithmTypes" [value]="algorithmType.value">
                  {{ algorithmType.value | translate }}
                </mat-option>
              </mat-select>
              <mat-error *ngIf="algorithmType.hasError('required')">{{ 'settingsDialogComponent_algorithmTypeRequired' | translate }}</mat-error>
            </mat-form-field>
            <span class="visualization-radio">Group By:</span>
            <mat-radio-group [formControl]="groupBy" color="primary">
              <mat-radio-button value="nodes" class="visualization-radio">{{ 'simulationComponent_informationPanelNodes' | translate }}</mat-radio-button>
              <mat-radio-button value="robots" class="visualization-radio">{{ 'simulationComponent_informationPanelRobots' | translate }}</mat-radio-button>
              <mat-radio-button value="components" class="visualization-radio">{{ 'settingsDialogComponent_colors' | translate }}</mat-radio-button>
            </mat-radio-group>
          </div>
          <div class="col-2 text-center">
            <button mat-raised-button color="primary" (click)="query()" [disabled]="!graphType.valid || !algorithmType.valid || !groupBy.valid">
              {{ 'visualizationComponent_query' | translate }} <i class="bi bi-download"></i>
            </button>
          </div>
        </div>
        <ngx-charts-line-chart
          [view]="[700,300]"
          [results]="custom"
        >
        </ngx-charts-line-chart>
      </mat-card>
    </div>
  </div>
</div>
