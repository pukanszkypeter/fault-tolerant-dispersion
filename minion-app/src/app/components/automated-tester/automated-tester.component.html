<div class="container">
  <mat-card class="animate__animated animate__fadeInDown">{{ 'automatedTestComponent_title' | translate }}</mat-card>
  <h4 class="mb-4 mt-4">{{ 'automatedTestComponent_init' | translate }}</h4>
  <div class="row">
    <div class="col-6">
      <!-- Graph Config -->
      <mat-card class="config-card">
        <mat-card-header>
          <div mat-card-avatar class="header-image">
            <mat-icon *ngIf="this.graphConfiguration" svgIcon="check" style="width: 40px;height: 40px;"></mat-icon>
            <mat-icon *ngIf="!this.graphConfiguration" svgIcon="close" style="width: 40px;height: 40px;"></mat-icon>
          </div>
          <mat-card-title>{{ 'simulationComponent_simulationSettings' | translate }}</mat-card-title>
          <mat-card-subtitle>
            <span *ngIf="this.graphConfiguration" style="color: green">{{'READY' | translate}}</span>
            <span *ngIf="!this.graphConfiguration" style="color: red">{{'NOT_READY' | translate}}</span>
          </mat-card-subtitle>
        </mat-card-header>
        <mat-card-content>
          <p>{{ 'simulationComponent_informationPanelGraph' | translate }}: {{this.graphConfiguration ? (this.graphConfiguration.graphType | translate ) : '-'}}</p>
          <p>{{ 'settingsDialogComponent_nodes' | translate }}: {{this.graphConfiguration ? this.graphConfiguration.nodes : 0}}</p>
          <p>{{ 'settingsDialogComponent_colors' | translate }}: {{this.graphConfiguration ? this.graphConfiguration.colors.length : 0}}</p>
        </mat-card-content>
        <mat-card-actions>
          <button mat-button color="primary" (click)="configureGraph()">{{ 'automatedTestComponent_configure' | translate }}</button>
          <button mat-button [disabled]="!this.graphConfiguration" (click)="resetGraph()">{{ 'RESET' | translate }}</button>
        </mat-card-actions>
      </mat-card>
    </div>
    <!-- Algorithm Config -->
    <div class="col-6">
      <mat-card class="config-card">
        <mat-card-header>
          <div mat-card-avatar class="header-image">
            <mat-icon *ngIf="this.algorithmConfiguration" svgIcon="check" style="width: 40px;height: 40px;"></mat-icon>
            <mat-icon *ngIf="!this.algorithmConfiguration" svgIcon="close" style="width: 40px;height: 40px;"></mat-icon>
          </div>
          <mat-card-title>{{ 'simulationComponent_algorithmSettings' | translate }}</mat-card-title>
          <mat-card-subtitle>
            <span *ngIf="this.algorithmConfiguration" style="color: green">{{'READY' | translate}}</span>
            <span *ngIf="!this.algorithmConfiguration" style="color: red">{{'NOT_READY' | translate}}</span>
          </mat-card-subtitle>
        </mat-card-header>
        <mat-card-content>
          <p>{{ 'simulationComponent_informationPanelAlgorithm' | translate }}: {{this.algorithmConfiguration ? (this.algorithmConfiguration.algorithmType | translate ) : '-'}}</p>
          <p>{{ 'settingsDialogComponent_robots' | translate }}: {{this.algorithmConfiguration ? this.algorithmConfiguration.robots.length : 0}}</p>
          <br>
        </mat-card-content>
        <mat-card-actions>
          <button mat-button color="primary" [disabled]="!this.graphConfiguration" (click)="configureAlgorithm()">{{ 'automatedTestComponent_configure' | translate }}</button>
          <button mat-button [disabled]="!this.algorithmConfiguration" (click)="resetAlgorithm()">{{ 'RESET' | translate }}</button>
        </mat-card-actions>
      </mat-card>
    </div>
  </div>
  <div class="row mt-4">
    <div class="col-12">
      <mat-card class="tests-card">
        <p style="margin: 0">
          <mat-form-field appearance="outline" style="width: 50%">
            <mat-label>{{ 'automatedTestSettingsComponent_tests' | translate }}</mat-label>
            <input matInput [formControl]="tests" type="number" min="1" max="1000">
            <mat-error *ngIf="tests.hasError('required')">{{ 'automatedTestSettingsComponent_testsRequired' | translate }}</mat-error>
            <mat-error *ngIf="tests.hasError('min')">{{ 'automatedTestSettingsComponent_testsMin' | translate }}</mat-error>
            <mat-error *ngIf="tests.hasError('max')">{{ 'automatedTestSettingsComponent_testsMax' | translate }}</mat-error>
          </mat-form-field>
        </p>
        <button mat-raised-button color="primary" [disabled]="!tests.valid || !this.algorithmConfiguration || !this.graphConfiguration" (click)="run()">{{ 'RUN' | translate }} <i class="bi bi-arrow-right"></i></button>
      </mat-card>
    </div>
  </div>
  <h4 class="mb-4 mt-4">{{ 'automatedTestComponent_result' | translate }}</h4>
</div>
