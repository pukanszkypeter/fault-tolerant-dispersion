#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo -e "\n|-----PRE-COMMIT-----|\n"

echo -e "ðŸ¶ Husky pre-commit hook running...\n"

cd frontend

echo -e "âœï¸  Formatting frontend code..."
npm run format:frontend -- --loglevel silent

echo -e "âœï¸  Formatting backend code..."
npm run format:backend -- --loglevel silent

echo -e "ðŸ“œ Setting version...\n"
echo -e "> $(npm version $(cat ../.version) --allow-same-version)"

cd ..

echo -e "\nðŸ’¾ Git saved changes.\n"
git add .

echo -e "\nâœ… Pre-Commit hook was successful.\n"