#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo -e "\n🐶 Husky pre-commit hook running...\n"

cd frontend

echo -e "✏️  Frontend formating..."
npm run format:frontend -- --loglevel silent

echo -e "✏️  Backend formating..."
npm run format:backend -- --loglevel silent

echo -e "📜 Version:\n"
npm version $(cat ../.version) --allow-same-version

cd ..

echo -e "\n💾 Git saved changes.\n"
git add .

echo -e "\n✅ Hook was successful.\n"